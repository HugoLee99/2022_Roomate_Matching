<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>questionnaire</title>
    <link rel="stylesheet" href="static/question.css">
</head>
<style>
    p input {
        height: 20px;
        width: 50px;
    }

</style>
<body>
<div class="a">
    <div class="a1">
        <h3 class="a11">Questions</h3>
        <nav class="a12">
            <li>
                <a href="templates/home.html">Home</a>
            </li>
            <li>
                <a href="templates/feature.html">Features</a>
            </li>
            <li>
                <a href="#">Contact</a>
            </li>
        </nav>
    </div>
    <div class="a2">
        <form action="/questionnaire" method="post" name="f" id="form1" onsubmit="return checkForm(this)">
            <div class="questionBox">
                <div class="key">
                    1.您的姓名：
                </div>
                <div class="key">
                    </label><input type="text" name="姓名">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    2.您的性别：
                </div>
                <div class="key">
                    <label for="1.1">男</label><input type="radio" value="男" name="性别" id="1.1">
                </div>
                <div class="key">
                    <label for="1.2">女</label><input type="radio" value="女" name="性别" id="1.2">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    3.早上起床时间：示例：8.30
                </div>
                <div class="key">
                    <input type="text" name="起床时间">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    4.晚上睡觉时间：示例：22.00
                </div>
                <div class="key">
                    <input type="text" name="睡觉时间">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    5.您的作息时间规律吗？
                </div>
                <div class="key">
                    <label for="5.1">完全看心情</label><input type="radio" value="完全看心情" name="作息时间" id="5.1">
                </div>
                <div class="key">
                    <label for="5.2">上课时间都能按时起床睡觉</label><input type="radio" value="上课时间都能按时起床睡觉" name="作息时间" id="5.2">
                </div>
                <div class="key">
                    <label for="5.3">上课时间只有2-3天可以按时</label><input type="radio" value="上课时间只有2-3天可以按时" name="作息时间" id="5.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    6.您每天洗澡吗？
                </div>
                <div class="key">
                    <label for="6.1">是</label><input type="radio" value="是" name="每天洗澡吗" id="6.1">
                </div>
                <div class="key">
                    <label for="6.2">否</label><input type="radio" value="否" name="每天洗澡吗" id="6.2">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    7.您每天洗衣服吗？
                </div>
                <div class="key">
                    <label for="7.1">是</label><input type="radio" value="是" name="每天洗衣服吗" id="7.1">
                </div>
                <div class="key">
                    <label for="7.2">否</label><input type="radio" value="否" name="每天洗衣服吗" id="7.2">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    8.有舍友的话，你在宿舍听歌看电影玩手机会外放声音吗？
                </div>
                <div class="key">
                    <label for="8.1">会</label><input type="radio" value="会" name="手机外放" id="8.1">
                </div>
                <div class="key">
                    <label for="8.2">不会</label><input type="radio" value="不会" name="手机外放" id="8.2">
                </div>
                <div class="key">
                    <label for="8.3">取得舍友同意后，会</label><input type="radio" value="取得舍友同意后，会" name="手机外放" id="8.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    9.有舍友在的话，你在宿舍会吃味道很重的食物吗？
                </div>
                <div class="key">
                    <label for="9.1">会</label><input type="radio" value="会" name="刺激食物" id="9.1">
                </div>
                <div class="key">
                    <label for="9.2">不会</label><input type="radio" value="不会" name="刺激食物" id="9.2">
                </div>
                <div class="key">
                    <label for="9.3">取得舍友同意后，会</label><input type="radio" value="取得舍友同意后，会" name="刺激食物" id="9.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    10.宿舍公共卫生你觉得几天要搞一次？
                </div>
                <div class="key">
                    <label for="10.1">1天1次</label><input type="radio" value="1天1次" name="宿舍卫生" id="10.1">
                </div>
                <div class="key">
                    <label for="10.2">一周一次</label><input type="radio" value="一周一次" name="宿舍卫生" id="10.2">
                </div>
                <div class="key">
                    <label for="10.3">脏了就搞一下</label><input type="radio" value="脏了就搞一下" name="宿舍卫生" id="10.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    11.你会未经舍友允许使用舍友的日用品吗？
                </div>
                <div class="key">
                    <label for="11.1">会</label><input type="radio" value="会" name="用舍友物品" id="11.1">
                </div>
                <div class="key">
                    <label for="11.2">不会</label><input type="radio" value="不会" name="用舍友物品" id="11.2">
                </div>
                <div class="key">
                    <label for="11.3">会，但事后我会主动跟他讲</label><input type="radio" value="会，但事后我会主动跟他讲" name="用舍友物品" id="11.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    12.大家在宿舍的时间不一样，你愿意平摊电费吗？
                </div>
                <div class="key">
                    <label for="12.1">愿意</label><input type="radio" value="愿意" name="电费平摊" id="12.1">
                </div>
                <div class="key">
                    <label for="12.2">无所谓</label><input type="radio" value="无所谓" name="电费平摊" id="12.2">
                </div>
                <div class="key">
                    <label for="12.3">谁用的多谁多出一点</label><input type="radio" value="谁用的多谁多出一点" name="电费平摊" id="12.3">
                </div>
            </div>
            <div class="questionBox">
                <div class="key">
                    13.夏天开空调你一般开几度？
                </div>
                <div class="key">
                    <label for="13.1">26度</label><input type="radio" value="26度" name="空调温度" id="13.1">
                </div>
                <div class="key">
                    <label for="13.2">小于22度</label><input type="radio" value="小于22度" name="空调温度" id="13.2">
                </div>
                <div class="key">
                    <label for="13.3">22度——25度</label><input type="radio" value="22度——25度" name="空调温度" id="13.3">
                </div>
            </div>
            <div class="topic2">请决定您每一方面的更加在意:（相加总分要等于100！！！！默认值:7）</div>
            <div style="clear:both"></div>
            <div class="questionBox">
                <p>起床时间 <input name="起床时间重视程度" type="text" value="8" id="4.1" ></p>
                <p>睡觉时间 <input name="睡觉时间重视程度" type="text" value="8" id="4.2"></p>
                <p>作息时间规律 <input name="作息规律重视程度" type="text" value="8" id="4.3"></p>
                <p>洗澡 <input name="洗澡重视程度" type="text" value="8" id="4.4"></p>
                <p>洗衣服 <input name="洗衣服重视程度" type="text" value="8" id="4.5"></p>
                <p>声音外放<input name="声音外放重视程度" type="text" value="8" id="4.6"></p>
                <p>刺激性食物<input name="刺激性食物重视程度" type="text" value="8" id="4.7"></p>
                <p>宿舍卫生<input name="宿舍卫生重视程度" type="text" value="8" id="4.8"></p>
                <p>未经允许使用他人物品<input name="未经允许使用他人物品重视程度" type="text" value="8" id="4.9"></p>
                <p>电费平摊<input name="电费重视程度" type="text" value="8" id="4.10"></p>
                <p>夏天空调温度<input name="夏天空调温度重视程度" type="text" value="8" id="4.11"></p>
            </div>


            <div class="confirmBox">
                <div class="key">
                    <input type="reset" value="重置" class="inKey">
                </div>
                <div class="key">
                    <input type="submit" value="提交" class="inKey">
                </div>
            </div>
        </form>
    </div>

    <div class="a3">
        <div class="a31">
            <p>to learn more<a href="#"> click me</a>, by <a href="#"> Team2</a>.</p>
        </div>
    </div>

</div>

<script type="text/javascript">
    function checkForm()
    {

        var v1 = parseInt(document.getElementById("4.1").value);
        var v2 = parseInt(document.getElementById("4.2").value);
        var v3 = parseInt(document.getElementById("4.3").value);
        var v4 = parseInt(document.getElementById("4.4").value);
        var v5 = parseInt(document.getElementById("4.5").value);
        var v6 = parseInt(document.getElementById("4.6").value);
        var v7 = parseInt(document.getElementById("4.7").value);
        var v8 = parseInt(document.getElementById("4.8").value);
        var v9 = parseInt(document.getElementById("4.9").value);
        var v10 = parseInt(document.getElementById("4.10").value);
        var v11 = parseInt(document.getElementById("4.11").value);
        var estr = ""
        var total = v1+v2+v3+v4+v5+v6+v7+v8+v9+v10+v11
        estr += "权重总计:" + total + "\n"
    if (v1+v2+v3+v4+v5+v6+v7+v8+v9+v10+v11===100) {
        estr += "通过";
        alert(estr);
        return true
    } else{
        estr += "权重总数需要为100";
        alert(estr);
        return false
    }}

</script>

<script language="JavaScript">
    //声明一个提交方法
    function tijiao() {

        //性别
        var gendervalue = f.gender.value;

        //作息
        var zuoxivalue = f.zuoxi.value;

        //社交
        var shejiaovalue = f.shejiao.value;

        //获取到每个值之后，借助于框架来传递
        //借助于框架进行传递XMLHttpRequest 对象用于在后台与服务器交换数据
        url = 'http://127.0.0.1:5000/add'
        var request = new XMLHttpRequest()
        request.open('post', url, true)
        request.onload = function () {
            resp_text = request.responseText
            print(resp_text)
        }
        var formdata = new FormData()
        formdata.append('gender', gendervalue)
        formdata.append('zuoxi', zuoxivalue)
        formdata.append('shejiao', shejiaovalue)
        request.send(formdata)
    }

</script>


</body>
</html>